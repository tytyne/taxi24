
{
    "swagger": "2.0",
    "info": {
    "version": "1.0.0", 
    "title": "taxi 24",
    "description": "TAxi24 Project Application API",
    "license": {
    "name": "MIT",
    "url": "https://opensource.org/licenses/MIT"
    }
    },
    "host": "taxi24.herokuapp.com",
    "basePath": "/",
    "tags": [
    {
    "name": "Taxi 24",
    "description": "API for drivers in the system"
    }
    ],
    "schemes": [
    "https"
    ],
    "consumes": [
    "application/json"
    ],
    "produces": [
    "application/json"
    ],

    "paths": {
        "/api/alldrivers": {
        "get": {
        "tags": [
        "driver routers"
        ],
        "summary": "Get all drivers in application",
        "responses": {
        "200": {
        "description": "drivers found",
        "schema": {
        "$ref": "#/definitions/Driver"
        }
        }
        }
        }
        },

        "/api/driver/{id}": {
            "get": {
            "tags": [
                "driver routers"
            ],
            "summary": "return a driver with a specific ID",
            "parameters": [
                {
                "name": "id",
                "in": "path",
                "required": true,
                "description": "ID of driver that we want to find",
                "type": "integer"
                }
                ],

            "responses": {
            "200": {
            "description": "Driver with that ID",
            "schema": {
            "$ref": "#/definitions/Driver"
            }
            }
            }
            }
            },
            "/api/driver": {
                "get": {
                "tags": [
                    "driver routers"
                ],
                "summary": "List of all available drivers",
                "responses": {
                "200": {
                "description": "drivers found",
                "schema": {
                "type":"array",
                "$ref": "#/definitions/Driver"
                }
                }
                }
                }
                },
            "/api/allriders": {
                "get": {
                "tags": [
                "rider routers"
                ],
                "summary": "Get all riders in application",
                "responses": {
                "200": {
                "description": "riders found",
                "schema": {
                "$ref": "#/definitions/Rider"
                }
                }
                }
                }
                },
            "/api/rider/{id}": {
                "get": {
                "tags": [
                    "rider routers"
                ],
                "summary": "return a rider with a specific ID",
                "parameters": [
                    {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of rider that we want to find",
                    "type": "integer"
                    }
                    ],
    
                "responses": {
                "200": {
                "description": "a rider with that ID",
                "schema": {
                "$ref": "#/definitions/Rider"
                }
                }
                }
                }
                },
                "/api/closer/:id": {
                    "get": {
                    "tags": [
                    "rider routers"
                    ],
                    "summary": "Get all drivers closer to the rider",

                    "parameters": [
                        {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "description": "ID of rider that wants close drivers",
                        "type": "integer"
                        }
                        ],


                    "responses": {
                    "200": {
                    "description": "riders found",
                    "schema": {
                    "$ref": "#/definitions/Driver"
                    }
                    }
                    }
                    }
                    },
                "/api/trip": {
                    "post": {
                    "tags": [
                        "trip routers"
                    ],
                    "summary": "it will create a trip by assigning driver Id with a rider Id",
                    "parameters": [
                        {
                        "name": "driverId",
                        "in": "path",
                        "required": true,
                        "description": "Id of a driver who is going to drive a rider",
                        "type": "integer"
                        },
                        {
                            "name": "riderId",
                            "in": "path",
                            "required": true,
                            "description": "Id of a rider who enjoy the ride",
                            "type": "integer"
                            }
                        ],
        
                    "responses": {
                    "200": {
                    "description": "a trip made",
                    "schema": {
                    "$ref": "#/definitions/Rider"
                    }
                    }
                    }
                    }
                    }   
    
        },
        "definitions": {
       
            "Driver": {
            "properties": {
        
            "firstname": {
            "type": "string",
            "required":true
            },
            "lastname": {
            "type": "string",
            "required":true
            },
            "email": {
            "type": "string",
            "required":true
            },
            "status":{
            "type":"string",
            "enum":[
                "available","unavailable"
            ],
            "default":"available",
            "required":true
            },
            "phone":{
            "type":"string",
            "required":true
            },
            "latitude":{
            "type":"integer",
            "required":true
            },
            "longitude":{
            "type":"integer",
            "required":true
            }
        }

        
        },

        "Rider":{
            "properties":{
    
                "name": {
                "type": "string",
                "required":true
                },
                "phone": {
                "type": "string",
                "required":true
                },

                "latitude":{
                "type":"integer",
                "required":true
                },
                "longitude":{
                "type":"integer",
                "required":true
                }
                }

        } ,


        "Trip":{
            "properties":{

                   
                    "driverId": {
                    "type": "number",
                    "required":true
                    },
                    "riderId": {
                    "type": "number",
                    "required":true
                    },
                    "status":{
                        "type":"string",
                        "enum":["active","complete","cancelled"],
                        "default":"active"
                    }


            }

        } 

    }  
    


}
